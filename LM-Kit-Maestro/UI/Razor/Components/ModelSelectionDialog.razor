@inject ModelListViewModel ModelListViewModel
<MudDialog>
    <DialogContent>
        <div id="model-selection-dialog-container">
            <MudStack Spacing="2">
                @foreach (var model in ModelListViewModel.Models)
                {
                                        <ListItemWrapper>
                            <ChildContent>
                                <ModelListItem ViewModel="model"/>
                            </ChildContent>

                            <ActionSheet>
                                <div class="d-flex flex-column item-actions">

                                @if (model.IsLocallyAvailable)
                                {
                                    <MudButton Variant="Variant.Text" @onclick="() => ModelListViewModel.OpenModelInExplorer(model)">
                                        <MudText Typo="Typo.subtitle2">Reveal in explorer</MudText>
                                    </MudButton>
                                }

                                    <MudButton Variant="Variant.Text" @onclick="() => ViewModel.OpenModelHfLink(model)">
                                        <MudText Typo="Typo.subtitle2">Open on Hugging Face</MudText>
                                    </MudButton>

                                @if (model.IsLocallyAvailable)
                                {
                                                    <MudButton Variant="Variant.Text" @onclick="() => ViewModel.DeleteModel(model)">
                                                        <MudText Color="Color.Error" Typo="Typo.subtitle2">Delete from disk</MudText>
                                                    </MudButton>
                                }
                                </div>
                            </ActionSheet>
                        </ListItemWrapper>
                }
            </MudStack>
        </div>
    </DialogContent>
</MudDialog>

<style>
    #model-selection-dialog-container
    {
        padding: 20px;
        background-color: var(--Surface2);
        max-height: 500px;
    }
</style>

@code {
    [CascadingParameter]
    private IMudDialogInstance MudDialog { get; set; }

    private void Submit() => MudDialog.Close(DialogResult.Ok(true));

    private void Cancel() => MudDialog.Cancel();
}